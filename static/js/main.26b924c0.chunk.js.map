{"version":3,"sources":["components/Nav/Nav.module.css","reportWebVitals.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","redux/appReduser.js","redux/redux-store.js","hoc/WithSuspense.js","App.js","index.js","api/headerAPI.js","api/loginAPI.js","api/securityAPI.js","redux/authReduser.js","components/Header/Header.module.css","assets/images/loading.svg","components/common/preloader/Preloader.jsx","api/profileAPI.js","redux/profilePageReducer.js","redux/dialogsPageReducer.js","api/usersAPI.js","utils/object-helpers.js","redux/usersPageReducer.js","components/common/preloader/Preloader.module.css","api/instanse.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","className","classes","header","img","src","alt","name","loginLink","isAuth","login","onClick","deleteLoginData","to","connect","state","auth","Nav","nav","item","activeClassName","activeLink","settings","SET_INITIALIZED","initialState","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profilePageReducer","dialogsPage","dialogsPageReducer","usersPage","usersPageReducer","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","storeCustom","withSuspense","Component","fallback","Preloader","DialogContainer","React","lazy","ProfilePage","UsersContainer","Friends","News","Settings","Music","Login","AppContainer","withRouter","initializeApp","dispatch","promise","getAuthUserData","Promise","all","useEffect","path","render","MainApp","ReactDOM","document","getElementById","headerAPI","instance","get","response","data","loginAPI","formData","post","email","password","rememberMe","checkbox","captcha","delete","securityAPI","setAuthUserData","id","setCaptchaUrl","captchaUrl","a","result","resultCode","postLoginData","userId","getCaptchaUrl","error_message","messages","length","stopSubmit","_error","console","log","url","loadingIcon","loadIcon","style","display","justifyContent","width","height","profileAPI","status","put","photoFile","FormData","append","headers","profile","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","addPost","values","newPostFormText","newPostText","setUserStatus","getProfile","getProfileStatus","updateProfileStatus","savePhoto","file","photos","saveProfile","getState","facebook","reject","postsData","postMessage","likes","shares","newPost","addMessage","newMessageFormText","newMessageText","dialogsData","age","messagesData","text","newMessage","usersAPI","getUsers","pageNumber","pageSize","unfollow","follow","updateObjInArray","items","objPropName","newObjProps","map","u","followSucsess","unfollowSucsess","setCurrentPage","currentPage","setFetchingToggle","isFetching","setFollowingInProgressToggle","requestUsers","users","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","totalUsersCount","portionSize","followingInProgress","followed","filter","axios","withCredentials","baseURL"],"mappings":"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","file":"static/js/main.26b924c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3-jbG\",\"item\":\"Nav_item__fdRmk\",\"activeLink\":\"Nav_activeLink__2C5gW\",\"active\":\"Nav_active__3_IAN\",\"settings\":\"Nav_settings__3FLYT\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.img}>\r\n                <img src=\"https://media.istockphoto.com/vectors/retro-city-wide-banner-vector-id466052873\" alt=\"company logo\"></img>\r\n            </div>\r\n            <div className={classes.name}>\r\n                Lava Net\r\n                <div className={classes.loginLink}>\r\n                    {props.isAuth ? <div>{props.login} <button onClick={() => { props.deleteLoginData() }}>Log Out</button></div> : <NavLink to={'/login'}>\r\n                        Login\r\n                    </NavLink>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </header >\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { deleteLoginData } from '../../redux/authReduser';\r\n\r\nconst HeaderContainer = (props) => {\r\n\r\n    // useEffect(() => {\r\n    //     props.getAuthUserData();\r\n    // }, [props]);\r\n\r\n    return (\r\n        <Header {...props} />\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { deleteLoginData })(HeaderContainer);","import React from 'react';\r\nimport classes from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={`${classes.item}`}>\r\n                <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/friends\" activeClassName={classes.activeLink}>Friends</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={`${classes.item} ${classes.settings}`}>\r\n                <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav >\r\n    )\r\n}\r\n\r\nexport default Nav;","import { getAuthUserData } from \"./authReduser\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nexport const setInitialStatus = () => ({ type: SET_INITIALIZED })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => dispatch(setInitialStatus()))\r\n}\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state, initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport authReducer from \"./authReduser\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReduser\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    usersPage: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.storeCustom = store;\r\n\r\nexport default store;","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/preloader/Preloader\";\r\n\r\n\r\nconst withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div><Preloader/></div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}\r\n\r\nexport default withSuspense;\r\n","import React from 'react';\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Nav from './components/Nav/Nav';\nimport { useEffect } from 'react';\nimport { initializeApp } from './redux/appReduser';\nimport {connect, Provider} from 'react-redux';\nimport Preloader from './components/common/preloader/Preloader';\nimport {compose} from \"redux\";\nimport store from \"./redux/redux-store\";\nimport withSuspense from \"./hoc/WithSuspense\";\n\n\nconst DialogContainer = React.lazy(() => import('./components/Dialog/DialogContainer'));\nconst ProfilePage = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Friends = React.lazy(() => import('./components/Friends/Friends'));\nconst News = React.lazy(() => import('./components/News/News'));\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\nconst Music = React.lazy(() => import('./components/Music/Music'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\n\nconst App = (props) => {\n\n  useEffect(() => {\n    props.initializeApp();\n  }, [props]);\n\n  if (!props.initialized) {\n    return <div><Preloader /></div>\n  } else {\n    return (\n        <div className=\"flex app-wrapper\">\n          <div className=\"sidebar\">\n            <HeaderContainer />\n            <Nav />\n          </div>\n          <Switch>\n            <Route path=\"/dialogs\" render={withSuspense(DialogContainer)} />\n            <Route path=\"/profile/:userId?\" render={withSuspense(ProfilePage)} />\n            <Route path=\"/friends\" render={withSuspense(Friends)} />\n            <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n            <Route path=\"/news\" render={withSuspense(News)} />\n            <Route path=\"/settings\" render={withSuspense(Settings)} />\n            <Route path=\"/music\" render={withSuspense(Music)} />\n            <Route path=\"/login\" render={withSuspense(Login)} />\n            <Redirect to=\"/profile\" />\n          </Switch>\n        </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nlet AppContainer =  compose( withRouter, connect(mapStateToProps, { initializeApp }))(App);\n\nconst MainApp = (props) => {\n  return <HashRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n}\n\nexport default MainApp;","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from \"./App\";\n\nReactDOM.render(<MainApp />,\n    document.getElementById('root')\n);\n\n\nreportWebVitals();\n","import { instance } from \"./instanse\";\r\n\r\nexport const headerAPI = {\r\n    getLogin() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => { return response.data });\r\n    }\r\n}\r\n\r\n","import { instance } from \"./instanse\";\r\n\r\nexport const loginAPI = {\r\n    async postLogin(formData) {\r\n        return await instance.post(`auth/login`, { email: formData.email, password: formData.password, rememberMe: formData.checkbox, captcha: formData.captcha });\r\n    },\r\n    async deleteLogin() {\r\n        return await instance.delete(`auth/login`);\r\n    },\r\n    async me() {\r\n        return await instance.get(`auth/me`);\r\n    }\r\n}","import { instance } from \"./instanse\";\r\n\r\nexport const securityAPI = {\r\n    async getCaptchaUrl() {\r\n        return await instance.get(`security/get-captcha-url`)\r\n            .then(response => {return response.data });\r\n    }\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { headerAPI } from \"../api/headerAPI\";\r\nimport { loginAPI } from \"../api/loginAPI\";\r\nimport {securityAPI} from \"../api/securityAPI\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, data: { id, email, login, isAuth } })\r\nexport const setCaptchaUrl = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, data: {captchaUrl}})\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let result = await headerAPI.getLogin()\r\n            if (result.resultCode === 0) {\r\n                let { id, email, login } = result.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n}\r\n\r\nexport const postLoginData = (formData) => async (dispatch) => {\r\n    try {\r\n        const response = await loginAPI.postLogin(formData)\r\n        if (response.data.resultCode === 0) {\r\n            let id = response.data.data.userId;\r\n            dispatch(setAuthUserData(id, formData.email, null, true));\r\n            dispatch(setCaptchaUrl(null));\r\n        } else {\r\n            if (response.data.resultCode === 10) {\r\n                dispatch(getCaptchaUrl());\r\n            }\r\n            let error_message = response.data.messages.length > 0 ? response.data.messages[0] : \"Undefined error\";\r\n            dispatch(stopSubmit(\"login\", { _error: error_message }));\r\n        }\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n        const response = await securityAPI.getCaptchaUrl();\r\n        const captchaUrl = response.url;\r\n        dispatch(setCaptchaUrl(captchaUrl));\r\n}\r\n\r\n\r\nexport const deleteLoginData = () => async (dispatch) => {\r\n    try {\r\n        const response = await loginAPI.deleteLogin()\r\n        // const data = await response.json()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'auth/SET_USER_DATA':\r\n        case 'auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state, ...action.data\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1XW2q\",\"name\":\"Header_name__U8Vwq\",\"loginLink\":\"Header_loginLink__iuAOa\"};","export default __webpack_public_path__ + \"static/media/loading.0c0f9572.svg\";","import React from 'react';\r\nimport classes from './Preloader.module.css';\r\nimport loadIcon from '../../../assets/images/loading.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={classes.loadingIcon}>\r\n        <img src={loadIcon} style={{ display: 'flex', justifyContent: 'center', width: '100px', height: '100px' }} alt='load icon'></img>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import { instance } from \"./instanse\";\r\n\r\nexport const profileAPI = {\r\n    async getProfile(userId) {\r\n        return await instance.get(`profile/${userId}`)\r\n            .then(response => { return response.data });\r\n    },\r\n    async getStatus(userId) {\r\n        return await instance.get(`profile/status/${userId}`)\r\n    },\r\n    async updateStatus(status) {\r\n        return await instance.put(`profile/status`, { status: status })\r\n    },\r\n    async savePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append('image', photoFile, )\r\n        return await instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    async saveProfile(profile) {\r\n        return await instance.put(`profile`, profile)\r\n    },\r\n}","import { profileAPI } from \"../api/profileAPI\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nexport const addPost = (values) => ({ type: ADD_POST, newPostFormText: values.newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(data.data));\r\n}\r\n\r\nexport const updateProfileStatus = (status) => async (dispatch) => {\r\n    const response = await  profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    };\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    const response = await  profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    };\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.id;\r\n    const response = await  profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getProfile(userId));\r\n    } else {\r\n        let error_message = response.data.messages.length > 0 ? response.data.messages[0] : \"Undefined error\";\r\n        dispatch(stopSubmit('editProfile', {\"contacts\": {facebook: error_message} }));\r\n        return Promise.reject(error_message);\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, postMessage: \"Hi, how are you?\", likes: 2, shares: 12 },\r\n        { id: 2, postMessage: \"Thank I'm OK!\", likes: 13, shares: 32 },\r\n        { id: 3, postMessage: \"When u'll come home?\", likes: 24, shares: 2 },\r\n        { id: 4, postMessage: \"Next week, I guess...\", likes: 4, shares: 1 },\r\n        { id: 5, postMessage: \"When u'll come home?\", likes: 24, shares: 2 },\r\n        { id: 6, postMessage: \"Next week, I guess...\", likes: 4, shares: 1 },\r\n        { id: 7, postMessage: \"When u'll come home?\", likes: 24, shares: 2 },\r\n        { id: 8, postMessage: \"Next week, I guess...\", likes: 4, shares: 1 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: state.postsData.length,\r\n                postMessage: action.newPostFormText,\r\n                likes: 0,\r\n                shares: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: {...action.photos}}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profilePageReducer;","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\r\n\r\nexport const addMessage = (values) => ({ type: ADD_MESSAGE, newMessageFormText: values.newMessageText })\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: \"Alex\", age: 24 },\r\n        { id: 2, name: \"Kate\", age: 21 },\r\n        { id: 3, name: \"Sara\", age: 19 },\r\n        { id: 4, name: \"Ann\", age: 22 },\r\n        { id: 5, name: \"Bob\", age: 18 },\r\n        { id: 6, name: \"Nik\", age: 26 }\r\n    ],\r\n    messagesData: [\r\n        { id: 1, text: \"Alex Alo hellow\", age: 24 },\r\n        { id: 2, text: \"Kate Alo hellow\", age: 21 },\r\n        { id: 3, text: \"Sara Alo hellow\", age: 19 },\r\n        { id: 4, text: \"Ann Alo hellow\", age: 22 },\r\n        { id: 5, text: \"Bob Alo hellow\", age: 18 },\r\n        { id: 6, text: \"Nik Alo hellow\", age: 26 }\r\n    ]\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case 'dialogs/ADD-MESSAGE':\r\n            let newMessage = {\r\n                id: state.dialogsData.length,\r\n                text: action.newMessageFormText,\r\n                age: state.dialogsData[5].age\r\n            }\r\n            return {\r\n                ...state,\r\n                newMessageText: '',\r\n                messagesData: [...state.messagesData, newMessage]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogsPageReducer;","import { instance } from \"./instanse\";\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageNumber = 1, pageSize = 3) {\r\n        return instance.get(`users?page=${pageNumber}&count=${pageSize}`)\r\n            .then(response => { return response.data });\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    }\r\n}\r\n\r\n","export const updateObjInArray = (items, userId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n            if (u[objPropName] === userId) {\r\n                return { ...u, ...newObjProps}\r\n            }\r\n            return u;\r\n        })\r\n}","import { usersAPI } from '../api/usersAPI';\r\nimport { updateObjInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nexport const followSucsess = (userId) => ({ type: FOLLOW, userId })\r\n\r\nexport const unfollowSucsess = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\n\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\n\r\nexport const setTotalUsersCount = (count) => ({ type: SET_TOTAL_USERS_COUNT, count })\r\n\r\nexport const setFetchingToggle = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const setFollowingInProgressToggle = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(setFetchingToggle(true));\r\n    dispatch(setFollowingInProgressToggle(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n    dispatch(setFetchingToggle(false));\r\n    dispatch(setFollowingInProgressToggle(false));\r\n}\r\n\r\nlet followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(setFollowingInProgressToggle(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(setFollowingInProgressToggle(false, userId));\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSucsess);\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSucsess);\r\n}\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 6,\r\n    totalUsersCount: 20,\r\n    currentPage: 1,\r\n    portionSize: 10,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'users/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case 'users/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users:  updateObjInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case 'users/SET_USERS':\r\n            return {\r\n                ...state, users: action.users\r\n            };\r\n        case 'users/SET_CURRENT_PAGE':\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            };\r\n        case 'users/SET_TOTAL_USERS_COUNT':\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            };\r\n        case 'users/TOGGLE_IS_FETCHING':\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case 'users/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state, followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter((id) => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingIcon\":\"Preloader_loadingIcon__3uFNO\",\"rotateOut\":\"Preloader_rotateOut__1QW1h\"};","import * as axios from \"axios\"\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"444b86ce-347b-4a1a-bba0-6d746929aa7c\"\r\n    }\r\n});"],"sourceRoot":""}