{"version":3,"sources":["api/instanse.js","reportWebVitals.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Nav.jsx","redux/appReduser.js","redux/redux-store.js","hoc/WithSuspense.js","App.js","index.js","api/headerAPI.js","api/loginAPI.js","redux/authReduser.js","components/Header/Header.module.css","assets/images/loading.svg","components/common/preloader/Preloader.jsx","api/profileAPI.js","redux/profilePageReducer.js","redux/dialogsPageReducer.js","api/usersAPI.js","utils/object-helpers.js","redux/usersPageReducer.js","components/common/preloader/Preloader.module.css","components/Nav/Nav.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","props","className","classes","header","img","src","alt","name","loginLink","isAuth","login","onClick","deleteLoginData","to","connect","state","auth","Nav","nav","item","activeClassName","activeLink","settings","SET_INITIALIZED","initialState","initialized","appReducer","action","type","reducers","combineReducers","profilePage","profilePageReducer","dialogsPage","dialogsPageReducer","usersPage","usersPageReducer","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","storeCustom","withSuspense","Component","fallback","Preloader","DialogContainer","React","lazy","ProfilePage","UsersContainer","Friends","News","Settings","Music","Login","AppContainer","withRouter","initializeApp","dispatch","promise","getAuthUserData","Promise","all","useEffect","path","render","MainApp","ReactDOM","document","getElementById","headerAPI","get","response","data","loginAPI","formData","post","email","password","rememberMe","checkbox","delete","setAuthUserData","id","a","result","resultCode","postLoginData","userId","error_message","messages","length","stopSubmit","_error","console","log","module","exports","loadingIcon","loadIcon","style","display","justifyContent","width","height","profileAPI","status","put","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","addPost","values","newPostFormText","newPostText","setUserStatus","getProfile","profile","getProfileStatus","updateProfileStatus","postsData","postMessage","likes","shares","newPost","ADD_MESSAGE","addMessage","newMessageFormText","newMessageText","dialogsData","age","messagesData","text","newMessage","usersAPI","getUsers","pageNumber","pageSize","unfollow","follow","updateObjInArray","items","objPropName","newObjProps","map","u","followSucsess","unfollowSucsess","setCurrentPage","currentPage","setFetchingToggle","isFetching","setFollowingInProgressToggle","requestUsers","users","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","bind","totalUsersCount","portionSize","followingInProgress","followed","filter"],"mappings":"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","file":"static/js/main.0197bdf9.chunk.js","sourcesContent":["import * as axios from \"axios\"\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"444b86ce-347b-4a1a-bba0-6d746929aa7c\"\r\n    }\r\n});","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <div className={classes.img}>\r\n                <img src=\"https://media.istockphoto.com/vectors/retro-city-wide-banner-vector-id466052873\" alt=\"company logo\"></img>\r\n            </div>\r\n            <div className={classes.name}>\r\n                Lava Net\r\n                <div className={classes.loginLink}>\r\n                    {props.isAuth ? <div>{props.login} <button onClick={() => { props.deleteLoginData() }}>Log Out</button></div> : <NavLink to={'/login'}>\r\n                        Login\r\n                    </NavLink>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </header >\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { deleteLoginData } from '../../redux/authReduser';\r\n\r\nconst HeaderContainer = (props) => {\r\n\r\n    // useEffect(() => {\r\n    //     props.getAuthUserData();\r\n    // }, [props]);\r\n\r\n    return (\r\n        <Header {...props} />\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { deleteLoginData })(HeaderContainer);","import React from 'react';\r\nimport classes from './Nav.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={`${classes.item}`}>\r\n                <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/friends\" activeClassName={classes.activeLink}>Friends</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={`${classes.item} ${classes.settings}`}>\r\n                <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav >\r\n    )\r\n}\r\n\r\nexport default Nav;","import { getAuthUserData } from \"./authReduser\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nexport const setInitialStatus = () => ({ type: SET_INITIALIZED })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => dispatch(setInitialStatus()))\r\n}\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state, initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport authReducer from \"./authReduser\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReduser\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    usersPage: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.storeCustom = store;\r\n\r\nexport default store;","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/preloader/Preloader\";\r\n\r\n\r\nconst withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div><Preloader/></div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}\r\n\r\nexport default withSuspense;\r\n","import React from 'react';\nimport {HashRouter, Redirect, Route, Switch, withRouter} from 'react-router-dom';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Nav from './components/Nav/Nav';\nimport { useEffect } from 'react';\nimport { initializeApp } from './redux/appReduser';\nimport {connect, Provider} from 'react-redux';\nimport Preloader from './components/common/preloader/Preloader';\nimport {compose} from \"redux\";\nimport store from \"./redux/redux-store\";\nimport withSuspense from \"./hoc/WithSuspense\";\n\n\nconst DialogContainer = React.lazy(() => import('./components/Dialog/DialogContainer'));\nconst ProfilePage = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Friends = React.lazy(() => import('./components/Friends/Friends'));\nconst News = React.lazy(() => import('./components/News/News'));\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\nconst Music = React.lazy(() => import('./components/Music/Music'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\n\nconst App = (props) => {\n\n  useEffect(() => {\n    props.initializeApp();\n  }, [props]);\n\n  if (!props.initialized) {\n    return <div><Preloader /></div>\n  } else {\n    return (\n        <div className=\"flex app-wrapper\">\n          <div className=\"sidebar\">\n            <HeaderContainer />\n            <Nav />\n          </div>\n          <Switch>\n            <Route path=\"/dialogs\" render={withSuspense(DialogContainer)} />\n            <Route path=\"/profile/:userId?\" render={withSuspense(ProfilePage)} />\n            <Route path=\"/friends\" render={withSuspense(Friends)} />\n            <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n            <Route path=\"/news\" render={withSuspense(News)} />\n            <Route path=\"/settings\" render={withSuspense(Settings)} />\n            <Route path=\"/music\" render={withSuspense(Music)} />\n            <Route path=\"/login\" render={withSuspense(Login)} />\n            <Redirect to=\"/profile\" />\n          </Switch>\n        </div>\n    );\n  }\n}\n\nlet mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nlet AppContainer =  compose( withRouter, connect(mapStateToProps, { initializeApp }))(App);\n\nconst MainApp = (props) => {\n  return <HashRouter>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </HashRouter>\n}\n\nexport default MainApp;","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from \"./App\";\n\nReactDOM.render(<MainApp />,\n    document.getElementById('root')\n);\n\n\nreportWebVitals();\n","import { instance } from \"./instanse\";\r\n\r\nexport const headerAPI = {\r\n    getLogin() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => { return response.data });\r\n    }\r\n}\r\n\r\n","import { instance } from \"./instanse\";\r\n\r\nexport const loginAPI = {\r\n    async postLogin(formData) {\r\n        return await instance.post(`auth/login`, { email: formData.email, password: formData.password, rememberMe: formData.checkbox });\r\n    },\r\n    async deleteLogin() {\r\n        return await instance.delete(`auth/login`);\r\n    },\r\n    async me() {\r\n        return await instance.get(`auth/me`);\r\n    }\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { headerAPI } from \"../api/headerAPI\";\r\nimport { loginAPI } from \"../api/loginAPI\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, data: { id, email, login, isAuth } })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let result = await headerAPI.getLogin()\r\n            if (result.resultCode === 0) {\r\n                let { id, email, login } = result.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n}\r\n\r\nexport const postLoginData = (formData) => async (dispatch) => {\r\n    try {\r\n        const response = await loginAPI.postLogin(formData)\r\n        if (response.data.resultCode === 0) {\r\n            let id = response.data.data.userId;\r\n            dispatch(setAuthUserData(id, formData.email, null, true));\r\n        } else {\r\n            let error_message = response.data.messages.length > 0 ? response.data.messages[0] : \"Undefined error\";\r\n            dispatch(stopSubmit(\"login\", { _error: error_message }));\r\n        }\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\nexport const deleteLoginData = () => async (dispatch) => {\r\n    try {\r\n        const response = await loginAPI.deleteLogin()\r\n        // const data = await response.json()\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'auth/SET_USER_DATA':\r\n            return {\r\n                ...state, ...action.data\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1XW2q\",\"name\":\"Header_name__U8Vwq\",\"loginLink\":\"Header_loginLink__iuAOa\"};","export default __webpack_public_path__ + \"static/media/loading.0c0f9572.svg\";","import React from 'react';\r\nimport classes from './Preloader.module.css';\r\nimport loadIcon from '../../../assets/images/loading.svg'\r\n\r\nconst Preloader = (props) => {\r\n    return <div className={classes.loadingIcon}>\r\n        <img src={loadIcon} style={{ display: 'flex', justifyContent: 'center', width: '100px', height: '100px' }} alt='load icon'></img>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import { instance } from \"./instanse\";\r\n\r\nexport const profileAPI = {\r\n    async getProfile(userId) {\r\n        return await instance.get(`profile/${userId}`)\r\n            .then(response => { return response.data });\r\n    },\r\n    async getStatus(userId) {\r\n        return await instance.get(`profile/status/${userId}`)\r\n    },\r\n    async updateStatus(status) {\r\n        return await instance.put(`profile/status`, { status: status })\r\n    }\r\n}","import { profileAPI } from \"../api/profileAPI\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\n\r\nexport const addPost = (values) => ({ type: ADD_POST, newPostFormText: values.newPostText })\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\n\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status })\r\n\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n    const data = await profileAPI.getProfile(userId)\r\n    dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getProfileStatus = (userId) => async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(data.data));\r\n}\r\n\r\nexport const updateProfileStatus = (status) => async (dispatch) => {\r\n    const response = await  profileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    };\r\n}\r\n\r\nlet initialState = {\r\n    postsData: [\r\n        { id: 1, postMessage: \"Hi, how are you?\", likes: 2, shares: 12 },\r\n        { id: 2, postMessage: \"Thank I'm OK!\", likes: 13, shares: 32 },\r\n        { id: 3, postMessage: \"When u'll come home?\", likes: 24, shares: 2 },\r\n        { id: 4, postMessage: \"Next week, I guess...\", likes: 4, shares: 1 },\r\n        { id: 5, postMessage: \"When u'll come home?\", likes: 24, shares: 2 },\r\n        { id: 6, postMessage: \"Next week, I guess...\", likes: 4, shares: 1 },\r\n        { id: 7, postMessage: \"When u'll come home?\", likes: 24, shares: 2 },\r\n        { id: 8, postMessage: \"Next week, I guess...\", likes: 4, shares: 1 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: state.postsData.length,\r\n                postMessage: action.newPostFormText,\r\n                likes: 0,\r\n                shares: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default profilePageReducer;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\nexport const addMessage = (values) => ({ type: ADD_MESSAGE, newMessageFormText: values.newMessageText })\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: \"Alex\", age: 24 },\r\n        { id: 2, name: \"Kate\", age: 21 },\r\n        { id: 3, name: \"Sara\", age: 19 },\r\n        { id: 4, name: \"Ann\", age: 22 },\r\n        { id: 5, name: \"Bob\", age: 18 },\r\n        { id: 6, name: \"Nik\", age: 26 }\r\n    ],\r\n    messagesData: [\r\n        { id: 1, text: \"Alex Alo hellow\", age: 24 },\r\n        { id: 2, text: \"Kate Alo hellow\", age: 21 },\r\n        { id: 3, text: \"Sara Alo hellow\", age: 19 },\r\n        { id: 4, text: \"Ann Alo hellow\", age: 22 },\r\n        { id: 5, text: \"Bob Alo hellow\", age: 18 },\r\n        { id: 6, text: \"Nik Alo hellow\", age: 26 }\r\n    ]\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            let newMessage = {\r\n                id: state.dialogsData.length,\r\n                text: action.newMessageFormText,\r\n                age: state.dialogsData[5].age\r\n            }\r\n            return {\r\n                ...state,\r\n                newMessageText: '',\r\n                messagesData: [...state.messagesData, newMessage]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default dialogsPageReducer;","import { instance } from \"./instanse\";\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageNumber = 1, pageSize = 3) {\r\n        return instance.get(`users?page=${pageNumber}&count=${pageSize}`)\r\n            .then(response => { return response.data });\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    }\r\n}\r\n\r\n","export const updateObjInArray = (items, userId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n            if (u[objPropName] === userId) {\r\n                return { ...u, ...newObjProps}\r\n            }\r\n            return u;\r\n        })\r\n}","import { usersAPI } from '../api/usersAPI';\r\nimport { updateObjInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\n\r\nexport const followSucsess = (userId) => ({ type: FOLLOW, userId })\r\n\r\nexport const unfollowSucsess = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\n\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\n\r\nexport const setTotalUsersCount = (count) => ({ type: SET_TOTAL_USERS_COUNT, count })\r\n\r\nexport const setFetchingToggle = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const setFollowingInProgressToggle = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(setFetchingToggle(true));\r\n    dispatch(setFollowingInProgressToggle(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n    dispatch(setFetchingToggle(false));\r\n    dispatch(setFollowingInProgressToggle(false));\r\n}\r\n\r\nlet followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(setFollowingInProgressToggle(true, userId));\r\n    const response = await apiMethod(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(setFollowingInProgressToggle(false, userId));\r\n}\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSucsess);\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSucsess);\r\n}\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 6,\r\n    totalUsersCount: 20,\r\n    currentPage: 1,\r\n    portionSize: 10,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'users/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case 'users/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users:  updateObjInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case 'users/SET_USERS':\r\n            return {\r\n                ...state, users: action.users\r\n            };\r\n        case 'users/SET_CURRENT_PAGE':\r\n            return {\r\n                ...state, currentPage: action.currentPage\r\n            };\r\n        case 'users/SET_TOTAL_USERS_COUNT':\r\n            return {\r\n                ...state, totalUsersCount: action.count\r\n            };\r\n        case 'users/TOGGLE_IS_FETCHING':\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case 'users/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state, followingInProgress: action.isFetching ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter((id) => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingIcon\":\"Preloader_loadingIcon__3uFNO\",\"rotateOut\":\"Preloader_rotateOut__1QW1h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3-jbG\",\"item\":\"Nav_item__fdRmk\",\"activeLink\":\"Nav_activeLink__2C5gW\",\"active\":\"Nav_active__3_IAN\",\"settings\":\"Nav_settings__3FLYT\"};"],"sourceRoot":""}