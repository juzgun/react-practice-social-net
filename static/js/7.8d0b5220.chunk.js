(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{219:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",(function(){return r}))},220:function(e,t,n){"use strict";var r=n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}var f=n(0),p=n.n(f),g=n(27),d=n(7),b=n(2);t.a=function(e){var t=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,t);var n,c,s,a=l(f);function f(){return o(this,f),a.apply(this,arguments)}return n=f,(c=[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(e,Object(r.a)({},this.props)):Object(b.jsx)(d.a,{to:"/login"})}}])&&i(n.prototype,c),s&&i(n,s),f}(p.a.Component),n=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}),{})(t);return Object(b.jsx)(n,{})}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(54);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},246:function(e,t,n){e.exports={users:"Users_users__3nlHN",mainPic:"Users_mainPic__3rUaw",avatar:"Users_avatar__1FIRR",selectedPage:"Users_selectedPage__p-pXx",pages:"Users_pages__193bm",loadingIcon:"Users_loadingIcon__e8ML4",userItem:"Users_userItem__-PrgU"}},298:function(e,t,n){e.exports={selectedPage:"Pages_selectedPage__18ZoZ",pages:"Pages_pages__3krOm"}},312:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersAPI",(function(){return T}));var r=n(27),o=n(76),i=n(0),u=n(3),c=n(219),s=n(246),a=n.n(s),l=n(41),f=n(230),p=n(298),g=n.n(p),d=n(2),b=function(e){for(var t=e.currentPage,n=e.onPageChanged,r=e.totalItemsCount,o=e.pageSize,u=e.portionSize,c=Math.ceil(r/o),s=[],a=1;a<=c;a++)s.push(a);var l=Math.ceil(c/u),p=Object(i.useState)(1),b=Object(f.a)(p,2),h=b[0],j=b[1],y=(h-1)*u+1,v=h*u;return Object(d.jsxs)("div",{className:g.a.pages,children:[h>1&&Object(d.jsx)("button",{onClick:function(){return j(h-1)},children:"PREV"}),s.filter((function(e){return e>=y&&e<=v})).map((function(e){return Object(d.jsx)("span",{className:t===e?g.a.selectedPage:g.a.pages,onClick:function(){n(e)},children:e},e)})),l>h&&Object(d.jsx)("button",{onClick:function(){return j(h+1)},children:"NEXT"})]})},h=n.p+"static/media/default_user_avatar.16815c49.png",j=n(15),y=["user","followingInProgress","unfollow","follow"],v=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,o=e.follow;Object(c.a)(e,y);return Object(d.jsxs)("div",{className:a.a.userItem,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(j.b,{to:"/profile/"+t.id,children:Object(d.jsx)("div",{className:a.a.avatar,children:Object(d.jsx)("img",{src:null!=t.photos.small?t.photos.small:h,alt:"user avatar"})})}),Object(d.jsx)("div",{children:t.followed?Object(d.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(d.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){o(t.id)},children:"Follow"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:t.name}),Object(d.jsx)("div",{children:t.followed}),Object(d.jsx)("div",{children:t.status}),Object(d.jsx)("div",{children:"user.location.country"}),Object(d.jsx)("div",{children:"user.location.city"})]})]},t.id)},m=["currentPage","onPageChanged","totalItemsCount","pageSize","portionSize","users","isFetching","followingInProgress","unfollow","follow"],O=function(e){var t=e.currentPage,n=e.onPageChanged,r=e.totalItemsCount,o=e.pageSize,i=e.portionSize,s=e.users,f=e.isFetching,p=e.followingInProgress,g=e.unfollow,h=e.follow,j=Object(c.a)(e,m),y=s.map((function(e){return Object(d.jsx)(v,{user:e,followingInProgress:p,unfollow:g,follow:h,props:Object(u.a)({},j)})}));return Object(d.jsxs)("div",{className:a.a.users,children:[Object(d.jsx)("div",{className:a.a.mainPic,children:Object(d.jsx)("img",{src:"https://media.istockphoto.com/vectors/retro-city-wide-banner-vector-id466052873",alt:"main pic",className:a.a.mainPic})}),Object(d.jsx)(b,{currentPage:t,onPageChanged:n,totalItemsCount:r,pageSize:o,portionSize:i}),Object(d.jsx)("div",{children:f?Object(d.jsx)(l.a,{}):y})]})},w=n(220),P=n(22),x="NOT_FOUND";var _=function(e,t){return e===t};function S(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,o=void 0===r?_:r,i=n.maxSize,u=void 0===i?1:i,c=n.resultEqualityCheck,s=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(o),a=1===u?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:x},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(s):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return x}return{get:r,put:function(t,o){r(t)===x&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,s);function l(){var t=a.get(arguments);if(t===x){if(t=e.apply(null,arguments),c){var n=a.getEntries(),r=n.find((function(e){return c(e.value,t)}));if(r)return r.value}a.put(arguments,t)}return t}return l.clearCache=function(){return a.clear()},l}function I(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,u=0,c={memoizeOptions:void 0},s=r.pop();if("object"===typeof s&&(c=s,s=r.pop()),"function"!==typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var a=c,l=a.memoizeOptions,f=void 0===l?n:l,p=Array.isArray(f)?f:[f],g=I(r),d=e.apply(void 0,[function(){return u++,s.apply(null,arguments)}].concat(p)),b=e((function(){for(var e=[],t=g.length,n=0;n<t;n++)e.push(g[n].apply(null,arguments));return i=d.apply(null,e)}));return Object.assign(b,{resultFunc:s,memoizedResultFunc:d,dependencies:g,lastResult:function(){return i},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),b};return o}var z=C(S),k=z((function(e){return e.usersPage.users}),(function(e){return e})),U=function(e){return e.usersPage.pageSize},A=function(e){return e.usersPage.portionSize},E=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.currentPage},R=function(e){return e.usersPage.isFetching},N=function(e){return e.usersPage.followingInProgress},q=function(e){return e.auth.isAuth},T=function(e){return Object(i.useEffect)((function(){e.requestUsers(e.currentPage,e.pageSize)}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(O,{users:e.users,totalItemsCount:e.totalUsersCount,onPageChanged:function(t){e.requestUsers(t,e.pageSize)},pageSize:e.pageSize,currentPage:e.currentPage,follow:e.follow,unfollow:e.unfollow,isFetching:e.isFetching,followingInProgress:e.followingInProgress,portionSize:e.portionSize})})},D=function(e){return{users:k(e),pageSize:U(e),portionSize:A(e),totalUsersCount:E(e),currentPage:F(e),isFetching:R(e),followingInProgress:N(e),isAuth:q(e)}};t.default=function(){return Object(P.d)(w.a,Object(r.b)(D,{follow:o.b,unfollow:o.f,setCurrentPage:o.d,setFollowingInProgressToggle:o.e,requestUsers:o.c}))(T)}}}]);
//# sourceMappingURL=7.8d0b5220.chunk.js.map